<!DOCTYPE html>
<html lang=ru>
<title>Конвертер валют на си | Malloc.RU</title>
<meta charset=utf-8 />
<meta name=description content="Из этой статьи вы узнаете как создать программу, которая конвертируют денежную валюту из RUB в USD и обратно! По желанию можно расширить её, а так же добавить графический интерфейс. Пошаговая инструкция поможет сосредоточиться на деталях, а видео инструкция поможет увидеть всю картину целиком. Команды, предоставленные в статье, протестированы на Ubuntu. Подробнее..."/>
<meta name=viewport content="width=device-width, initial-scale=1"/>
<link rel=stylesheet href=../../css/style.css>
<link type=image/x-icon rel="shortcut icon" href=../../pictures/favicon/favicon.ico>
<link type=image/png sizes=16x16 rel=icon href=../../pictures/favicon/favicon-16x16.png>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4686334354505193" crossorigin=anonymous></script>
<script>document.oncontextmenu=cmenu;function cmenu(){return false};</script>
<body class=unselectable>
<noscript><img src="https://top-fwz1.mail.ru/counter?id=3211268;js=na" style=border:0;position:absolute;left:-9999px alt=Top.Mail.Ru></noscript>
<div class=malloc-main style=margin-left:160px>
<div class="malloc-row malloc-padding-32">
<div class="malloc-threequarter malloc-padding">
<h1 class="malloc-center malloc-theme malloc-serif" style=border-radius:5px>Конвертер валют на си</h1>
<div class=malloc-padding>
В этой статье мы напишем программу "Конвертер валют".<br>
Она будет делать две операции, первая - это "из доллара в рубль", а вторая наоборт "из рубля в доллар".<br><br>
Это будут две фунции, которые будут запускаться из меню в функции main(). <br>
Для простаты, я буду использовать только целочисленный тип <b>"int"</b>.<br>
Пишите код строчка за строчкой!<br><br>
Все действия протестированы и проверены на дистрибутиве Ubuntu.<br>
В статье есть видео, в котором всё показано в живую.<br>
Приятного чтения и просмотра!<br>
</div>
<div class="malloc-auto malloc-center" style=margin-top:40px;width:100%;height:100%><img class=malloc-image src=pictures/6.png alt=Screenshot-Терминал title=Screenshot-Терминал style=border-radius:5px></div>
<div style=margin-top:100px></div>
<h2 class=malloc-text-teal>Подготовка</h2>
<ul class=malloc-ul>
<li>
Для начала нам нужно создать каталог для нашей программы, а так же файл main.c для записи в него алгоритма.
</li>
<li class=malloc-text-blue style=font-size:15px;margin-top:20px>Шаг 1</li>
<li>
Открываем терминал:<br>
"Ctrl+Alt+T" или "ПКМ, открыть Терминал" (по англ. - Open in Terminal).
</li>
<li class=malloc-text-blue style=font-size:15px;margin-top:20px>Шаг 2</li>
<li>
Создадим отдельный каталог (папку):<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">mkdir converter</code><br>
Теперь зайдем в него:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">cd converter</code><br>
Мы создали пустой каталог и зашли в него для того, чтобы ничего не мешало.<br>
<p class="malloc-padding-small malloc-border malloc-theme-l5" style=font-size:14px>
"mkdir" - создать пустой каталог<br>
"cd" - используется для перемещения по каталогам
</p>
</li>
<li class=malloc-text-blue style=font-size:15px;margin-top:20px>Шаг 3</li>
<li>
В этой папке создадим файл "main.c":<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">touch main.c</code><br>
Убидимся, что файл создался:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">ls</code>
<p class="malloc-padding-small malloc-border malloc-theme-l5" style=font-size:14px>
"touch" - создать файл<br>
"ls" - просмотр текущего каталога
</p>
</li>
<li class=malloc-text-blue style=font-size:15px;margin-top:20px>Шаг 4</li>
<li>
Теперь нужно открыть файл в любой текстовом редакторе.<br>
К примеру открою наш файл "main.c" в текстовом редакторе - gedit.<br><br>
Нажимаем "Ctrl+Shift+T", для того, чтобы открыть новую вкаладку в терминале.<br>
Вводим следующую команду:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">gedit main.c & exit</code><br>
Откроется "текстовой редактор - gedit" и закроется одна вкладка в терминале.
</li>
</ul>
<div style=margin-top:100px></div>
<h2 class=malloc-text-teal>Из рубля в доллар</h2>
<ul class=malloc-ul>
<li>
Сейчас мы напишем программу, которая будет конвертировать рубль в доллар.
</li>
<li>
Подключаем стандартную библиотеку ввода-вывода:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">#include &lt;stdio.h&gt;</code><br>
Далее пишем функцию - main:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">int main()</code><br>
Открывающая скобка:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">{</code><br>
Теперь создадим три переменные "rub" - кол-во рублей, "usd" - кол-во долларов, "value" - стоимость доллара:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">int rub, usd, value;</code><br>
Присвоим "rub" и "usd" значение нуль, а "value" даем значение сегоднешнего курса доллара:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">rub=0, usd=0, value=75;</code><br>
Далее пишем приглашение на ввод кол-ва рублей:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">printf("RUB = ");</code><br>
Пишем функцию которая будет осуществлять запись в нашу переменную "rub":<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">scanf("%d", &rub);</code><br><br>
Цикл <b>"for"</b>:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">for(; rub >= value; usd++, rub-=value) {}</code><br>
1. В первом поле цикла не стоит не какой переменой, потому что мы создали и присвоили ей значение заранее. Это переменная <b>"usd"</b><br>
2. Если кол-во введенных рублей больше или равно, в данном случае <b>"75"</b>, то <b>"usd"</b> прибавляется единица, а из общего кол-ва рублей вычитается <b>"75"</b><br><br>
Выведем на экран результат:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">printf("USD = %d\n", usd);</code><br>
Возвращаем целое число:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">return 0;</code><br>
Закрываем функцию <b>"main"</b>:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">}</code>
</li>
</ul>
<div style=margin-top:100px></div>
<h2 class=malloc-text-teal>Компиляция и запуск 1</h2>
<ul class=malloc-ul>
<li>
Чтобы совершить сборку программы нужен - "компилятор gcc".<br>
Установим его:<br/>
<code class="malloc-text-teal malloc-border malloc-bar-item">sudo apt install gcc</code><br>
Если он у вас уже есть, то хорошо, идем дальше.
</li>
<li class=malloc-text-blue style=font-size:15px;margin-top:20px>Шаг 1</li>
<li>
Собирем нашу программу:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">gcc -Wall -g main.c</code><br>
Посмотрим, что появилось в нашем каталоге:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">ls</code><br>
В каталоге дожны лежать "a.out" и "main.c".
</li>
<li class=malloc-text-blue style=font-size:15px;margin-top:20px>Шаг 2</li>
<li>
Теперь посмотрим на результат:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">./a.out</code><br>
Вводим кол-во рублей, например "1000".<br>
Вывод будет такой:<br>
<b>RUB = 1000</b><br>
<b>USD = 13</b>
</li>
</ul>
<div style=margin-top:100px></div>
<h2 class=malloc-text-teal>Из доллара в рубль</h2>
<ul class=malloc-ul>
<li>
Сейчас мы напишем программу, которая будет конвертировать доллар в рубль.<br>
Можно для неё создать отдельный файл, но мы просто закомментируем предыдущий код.<br>
На первой строчке первым символом напишите вот такой знак <b>/*</b>.<br>
Вконце кода последним символом напишите <b>*/</b>.
Теперь код обазначен как комментарий и не будет нам мешать.<br>
Отступите пару строчек вниз.
</li>
<li>
Подключаем стандартную библиотеку ввода-вывода:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">#include &lt;stdio.h&gt;</code><br>
Далее пишем функцию - main:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">int main()</code><br>
Открывающая скобка:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">{</code><br>
Теперь создадим три переменные "rub" - кол-во рублей, "usd" - кол-во долларов, "value" - стоимость доллара:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">int rub, usd, value;</code><br>
Присвоим "rub" и "usd" значение нуль, а "value" даем значение сегоднешнего курса доллара:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">rub=0, usd=0, value=75;</code><br>
Далее пишем приглашение на ввод кол-ва долларов:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">printf("USD = ");</code><br>
Пишем функцию, которая будет осуществлять запись в нашу переменную "usd":<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">scanf("%d", &usd);</code><br>
Умножаем кол-во долларов на текущий курс и получаем кол-во рублей:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">rub=usd*value;</code><br>
Выведем на экран результат:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">printf("RUB = %d\n", rub);</code><br>
Возвращаем целое число:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">return 0;</code><br>
Закрываем функцию <b>"main"</b>:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">}</code>
</li>
</ul>
<div style=margin-top:100px></div>
<h2 class=malloc-text-teal>Компиляция и запуск 2</h2>
<ul class=malloc-ul>
<li>
Собирем нашу программу:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">gcc -Wall -g main.c</code><br>
Теперь посмотрим на результат:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">./a.out</code><br>
Вводим кол-во долларов, например "500".<br><br>
Вывод будет такой:<br>
<b>USD = 500</b><br>
<b>RUB = 37500</b>
</li>
</ul>
<div style=margin-top:100px></div>
<h2 class=malloc-text-teal>Конвертер валют</h2>
<ul class=malloc-ul>
<li class=malloc-text-blue style=font-size:15px;margin-top:20px>Шаг 1</li>
<li>
Для начала переименуем наши функции.<br>
Ту, что закомментирована, назовем <b>ith_rub_v_usd</b>.<br>
Как это сделать?<br>
Вместо <b>int main()</b> пишем <b>int ith_rub_v_usd()</b>.<br>
Вторую переименовываем в <b>int ith_usd_v_rub()</b>.
</li>
<li class=malloc-text-blue style=font-size:15px;margin-top:20px>Шаг 2</li>
<li>
После первой функции, которая закомментирована, написана строчка:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">#include &lt;stdio.h&gt;</code><br>
Удаляем её.
</li>
<li class=malloc-text-blue style=font-size:15px;margin-top:20px>Шаг 3</li>
<li>
Удаляем знаки <b>/*</b> и <b>*/</b>.
</li>
<li class=malloc-text-blue style=font-size:15px;margin-top:20px>Шаг 4</li>
<li>
Теперь нужно сделать так, чтобы можно было вызывать эти функции по отдельности в одной программе.
</li>
<li>
В конце нашего кода, отступаем пару строк вниз и пишем:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">int main()</code><br>
Открывающая скобка:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">{</code><br>
Напишем меню нашей программы:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">printf("Конвертер валют\n");</code><br>
<code class="malloc-text-teal malloc-border malloc-bar-item">printf("1. Из рублей в доллары\n");</code><br>
<code class="malloc-text-teal malloc-border malloc-bar-item">printf("2. Из долларов в рубли\n");</code><br>
<code class="malloc-text-teal malloc-border malloc-bar-item">printf("Выберите номер операции: ");</code><br>
Cоздадим переменную и присвоим ей нуль, чтобы не хранила мусор:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">int num=0;</code><br>
Ожидаем записи нужного номера пункта меню:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">scanf("%d", &num);</code><br><br>
Сделаем так, чтобы программа реагировала на ввод пользователя.<br>
То есть, если введен пункт 2, то результат такой. Если введен не существующий пункт 7, то результат такой.<br>
Для этого воспользуемся "switch":<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">switch(num)</code><br>
Открывающая скобка "switch":<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">{</code><br>
Если введен пункт "1", то запускаем функцию "ith_rub_v_usd()":<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">case 1: ith_rub_v_usd(); break;</code><br>
Если введен пункт "2", то запускаем функцию "ith_usd_v_rub()":<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">case 2: ith_usd_v_rub(); break;</code><br>
Но, если введенного пункта меню не существует, то пишем исключение:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">default:</code><br>
<code class="malloc-text-teal malloc-border malloc-bar-item">printf("\nЧто то пошло не так =(\n\n");</code><br>
Закрываем "switch":<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">};</code><br>
Возвращаем целое число:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">return 0;</code><br>
Закрываем функцию <b>"main"</b>:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">}</code>
</li>
</ul>
<div style=margin-top:100px></div>
<h2 class=malloc-text-teal>Компиляция и запуск 3</h2>
<ul class=malloc-ul>
<li>
Собирем нашу программу. Пишем в терминале:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">gcc -Wall -g main.c</code><br>
Теперь посмотрим на результат. Вводить будем поочередно - один, два и любое число:<br>
<code class="malloc-text-teal malloc-border malloc-bar-item">./a.out</code><br>
<p class="malloc-padding-small malloc-border malloc-theme-l5" style=font-size:14px>
Конвертация валют<br>
1. Из рублей в доллары<br>
2. Из долларов в рубли<br>
Выберите номер операции: 1<br>
RUB = 1799<br>
USD = 23
</p>
<p class="malloc-padding-small malloc-border malloc-theme-l5" style=font-size:14px>
Конвертация валют<br>
1. Из рублей в доллары<br>
2. Из долларов в рубли<br>
Выберите номер операции: 2<br>
USD = 99<br>
RUB = 7425
</p>
<p class="malloc-padding-small malloc-border malloc-theme-l5" style=font-size:14px>
Конвертация валют<br>
1. Из рублей в доллары<br>
2. Из долларов в рубли<br>
Выберите номер операции: 7<br><br>
Что, то пошло не так =(<br>
</p>
</li>
</ul>
<div class="malloc-ad-desktop malloc-center">
<object style=width:560px;height:315px data=https://www.youtube.com/embed/AW4Nmmfg1jQ></object>
</div>
<div class="malloc-ad-mobile malloc-center">
<object style=width:250px;height:180px data=https://www.youtube.com/embed/AW4Nmmfg1jQ></object>
</div>
<hr>
<div style=margin-top:100px></div>
<h2 class=malloc-text-teal>Заключение</h2>
<ul class=malloc-ul>
<li>
В данной статье мы увидели как выглядит один из вариантов написания программы - "Конвертер валют". Код рабочий и подходит для тренировки создания алгоритмов.<br><br>
Вот вам задание:<br>
1. Перепишите программу, чтобы она брала запись о курсе валют из другого документа и передавала её переменной <b>value</b>.<br>
2. Перепишите программу, чтобы она могла принимать на ввод и вывод вещественные числа - "float". Сейчас она принимает только "int".<br>
3. Добавьте валюту "EURO".<br><br>
Думаю из заданий становиться понятно, что любую программу, можно расширить и сделать так, чтобы переменные принимали значения из вне и делали подсчет внутри программы и отправляли результат, например по почте.<br><br>
Надеюсь, статья была полезной и у вас получилось найти ответы на свои вопросы.
</li>
</ul>
</div>
<div class="malloc-quarter malloc-text-gray malloc-padding-16 malloc-card" title=Новости style=margin-top:90px>
<div class="malloc-container malloc-text-grey" style=border-radius:5px>
<div class=malloc-center>НОВОСТИ</div>
<div class="malloc-container malloc-theme-l1 malloc-padding-large" style=font-size:14px rel=nofollow id=news></div>
</div>
<div class="malloc-center malloc-padding-16">
<div style=display:inline-block;font-size:12px;border-radius:5px class="malloc-padding-small malloc-theme-clock">
<div rel=nofollow id=mytime style=display:inline-block;margin-right:5px title=Время></div>|
<div rel=nofollow id=mydate style=display:inline-block;margin-left:1px title=Дата></div>
</div>
</div>
</div>
<div class=malloc-center id=AD-payeer><img src=https://payeer.com/style/images/banner/240x400-1.jpg alt=Payeer style=border-radius:5px;margin-top:50px></div>
</div>
</div>
<div class="malloc-padding-64 malloc-ad-desktop"></div>
<footer class=malloc-ad-desktop>
<div class=malloc-threequarter>
<div class="malloc-container malloc-theme-l4 malloc-padding-large" style=font-size:12px;margin-left:270px;border-radius:5px>
<ul class="malloc-ul malloc-col">
<li>
Донат:
<div class=malloc-padding-12>
<div rel=nofollow id=Donat-footer-d class=malloc-hover-red style=border-radius:5px>Пожертвовать на ...</div>
</div>
</li>
</ul>
<ul class="malloc-ul malloc-col">
<li>
Соцсети:
<div class=malloc-padding-12>
<div id=Telegram-footer-d class=malloc-hover-green style=border-radius:5px>Телеграм</div>
<div id=Youtube-footer-d class=malloc-hover-green style=border-radius:5px>Youtube</div>
<div id=GitHub-footer-d class=malloc-hover-green style=border-radius:5px>GitHub</div>
</div>
</li>
</ul>
<ul class="malloc-ul malloc-col">
<li>
Дополнительно:
<div class=malloc-padding-12>
<div rel=nofollow id=Topmail-footer-d class=malloc-hover-white style=border-radius:5px>Рейтинг сайта</div>
<div rel=nofollow id=Payeer-footer-d class=malloc-hover-white style=border-radius:5px>Payeer</div>
</div>
</li>
</ul>
</div>
<div class="malloc-container malloc-theme-l5 malloc-card" style=margin-left:270px;border-radius:5px>
<div class=malloc-center style=font-size:12px title="Все права защищены">&copy; malloc.ru, 2021</div>
</div>
</div>
</footer>
<div class="malloc-padding-32 malloc-ad-mobile"></div>
<footer class=malloc-ad-mobile>
<div class=malloc-threequarter>
<div class="malloc-container malloc-theme-l4 malloc-padding-large" style=font-size:12px;margin-left:1px;border-radius:5px>
<ul class="malloc-ul malloc-col">
<li>
Донат:
<div class=malloc-padding-12>
<div rel=nofollow id=Donat-footer-m class=malloc-hover-red style=border-radius:5px>Пожертвовать на ...</div>
</div>
</li>
</ul>
<ul class="malloc-ul malloc-col">
<li>
Соцсети:
<div class=malloc-padding-12>
<div id=Telegram-footer-m class=malloc-hover-green style=border-radius:5px>Телеграм</div>
<div id=Youtube-footer-m class=malloc-hover-green style=border-radius:5px>Youtube</div>
<div id=GitHub-footer-m class=malloc-hover-green style=border-radius:5px>GitHub</div>
</div>
</li>
</ul>
<ul class="malloc-ul malloc-col">
<li>
Дополнительно:
<div class=malloc-padding-12>
<div rel=nofollow id=Topmail-footer-m class=malloc-hover-white style=border-radius:5px>Рейтинг сайта</div>
<div rel=nofollow id=Payeer-footer-m class=malloc-hover-white style=border-radius:5px>Payeer</div>
</div>
</li>
</ul>
</div>
<div class="malloc-container malloc-theme-l2 malloc-card-4 malloc-ad-mobile" style=border-radius:5px>
<div class=malloc-center style=font-size:12px title="Все права защищены">&copy; malloc.ru, 2021</div>
</div>
</div>
</footer>
<nav class="malloc-top malloc-bar malloc-theme malloc-left-align malloc-large malloc-card">
<a href=../../index.html class="malloc-bar-item malloc-button malloc-hover-white" style=font-size:14px>Главная</a>
<a href=../../blog.html class="malloc-bar-item malloc-button malloc-hover-white" style=font-size:14px>Блог</a>
<a href=../../donat.html class="malloc-bar-item malloc-button malloc-hover-white" style=font-size:14px>Донат</a>
</nav>
<script src=js/6_scripts.js></script>
<script src=../../js/news.js></script>
</body>
</html>
